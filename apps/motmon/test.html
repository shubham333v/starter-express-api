<html>
<head><title>test</title>
<style>div{margin: 10px; }</style>
</head>
<body>
    <form  method="POST" name="myForm" id="myForm">
        <div><label for="tem">Tem:</label>
        <input type="number" name="tem" id="tem"></div>

        <div><label for="cur">Cur:</label>
        <input type="text" name="cur" id="cur"></div>
        
        <div><label for="spd">Tem:</label>
        <input type="text" name="spd" id="spd"></div>

        <div><label for="vol">Cur:</label>
        <input type="text" name="vol" id="vol"></div>

        <input value="Submit" type="submit" onclick="submitform()">
    </form>

    <script>
  /*  var form = document.getElementById('myForm');
    submitform = function(event){
        var xhr = new XMLHttpRequest();
        var formData = new FormData(form);
        
        //open the request
        xhr.open('POST','https://tr9v3.cyclic.app/motParam')
        xhr.setRequestHeader("Content-Type", "application/json");

        //send the form data
        
        xhr.send(JSON.stringify(Object.fromEntries(formData)));

        xhr.onreadystatechange = function(a){if (xhr.readyState) {alert(); } }
        xhr.onerror=(a)=>{alert(a); }
        //Fail the onsubmit to avoid page refresh.
        return false; 
    }*/

var form = document.getElementById('myForm');
submitform = function(event){
var formData = new FormData(form);

var xhr = new XMLHttpRequest();
xhr.open("POST", "/motParam", true);
xhr.setRequestHeader('Content-Type', 'application/json');
xhr.send(JSON.stringify(Object.fromEntries(formData)));
xhr.onreadystatechange = function () {
if (this.readyState != 4) return;
if (this.status == 200) {alert(this.responseText);  } }; }
    </script>
</body>
</html>
